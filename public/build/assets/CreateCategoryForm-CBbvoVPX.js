import{u as x,j as e,t as c}from"./app-4HfbLsEY.js";import{B as h}from"./button-E_trhJL5.js";import{I as i}from"./input-DNJDcnbb.js";import{L as s}from"./label-Dq9Er2yB.js";import{S as j,a as y,b as v,c as f,d as S}from"./select-BNFxK3Ia.js";import{T as _}from"./textarea-BhjhkGtO.js";import"./index-dSc6CJZX.js";import"./utils-DgWKjmuI.js";import"./index-Cal_Umln.js";import"./index-fudGGujX.js";import"./index-BiszRRC3.js";import"./Combination-C2qQlPVI.js";import"./index-lGkH_Ja5.js";import"./index-6UiDlR7t.js";import"./index-DLafaNOF.js";import"./createLucideIcon-BlVPVBQ0.js";import"./check-EXF3oDCO.js";function A({parentCategories:m,onSuccess:d}){const{data:o,setData:a,post:g,processing:n,errors:t,reset:p}=x({category_name:"",slug:"",parent_id:"",description:"",image:null}),u=r=>{r.preventDefault(),g(route("admin.category.store"),{preserveScroll:!0,preserveState:!0,forceFormData:!0,onSuccess:()=>{p(),d(),c.success("Category created successfully")},onError:l=>{c.error(l.error||"Failed to create category"),console.error("Error saving category:",l)}})};return e.jsxs("form",{onSubmit:u,className:"space-y-4",encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"parent_id",children:"Parent Category"}),e.jsxs(j,{onValueChange:r=>a("parent_id",r),value:o.parent_id,children:[e.jsx(y,{children:e.jsx(v,{placeholder:"Select a parent category"})}),e.jsx(f,{children:m.map(r=>e.jsx(S,{value:r.id.toString(),children:r.category_name},r.id))})]})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"category_name",children:"Category Name"}),e.jsx(i,{id:"category_name",name:"category_name",value:o.category_name,placeholder:"Enter name of categories",onChange:r=>a("category_name",r.target.value),required:!0}),t.category_name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.category_name})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"slug",children:"Slug"}),e.jsx(i,{id:"slug",name:"slug",value:o.slug,placeholder:"Enter slug for url",onChange:r=>a("slug",r.target.value),required:!0}),t.slug&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.slug})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"description",children:"Description"}),e.jsx(_,{id:"description",name:"description",value:o.description,placeholder:"Enter description",onChange:r=>a("description",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"image",children:"Image"}),e.jsx(i,{id:"image",name:"image",type:"file",onChange:r=>a("image",r.target.files?r.target.files[0]:null)}),t.image&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.image})]}),e.jsx(h,{type:"submit",disabled:n,children:n?"Saving...":"Save Category"})]})}export{A as default};
