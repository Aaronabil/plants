import{r as a,j as e,H as L,a as j,t as g}from"./app-CmZ85Pt3.js";import{columns as P}from"./Columns-BbSOe0dE.js";import{DataTable as H}from"./DataTable-CmlfKskz.js";import{B as o}from"./button-CgxK_lhP.js";import{C as _,a as z,b as B,c as R,d as V}from"./card-oHQKw-mN.js";import{D as f,a as C,b as y,c as w,d as D,e as W,f as m}from"./dropdown-menu-C8hhk7WA.js";import{T as q,a as G,b as n,c as J}from"./tabs-ca7ZYVgr.js";import{A as K}from"./AdminLayout-zGjKswl1.js";import{D as v,a as Q,b as N,c as b,d as M}from"./dialog-BSbaE6b1.js";import U from"./CreateCategoryForm-D2Gtq1UQ.js";import X from"./EditCategoryForm-BaU2zTsu.js";import Y from"./DeleteCategoryModal-M90w-7z3.js";import{I as Z}from"./input-DnCgL49P.js";import{E as $}from"./ellipsis-DicsCvKw.js";import{L as ee,F as se}from"./list-filter-DTvYLpET.js";import{C as re}from"./circle-plus-B3U3Wf02.js";import"./format-CSQe5d3I.js";import"./index-CCzopjes.js";import"./createLucideIcon-C-uGW5vV.js";import"./table-CtbaH3qv.js";import"./utils-DgWKjmuI.js";import"./select-DnETzpsw.js";import"./index-DIMu5qJI.js";import"./index-DuU4ieVV.js";import"./Combination-DLZlljgR.js";import"./index-D3PW3_5I.js";import"./index-CDGj7aat.js";import"./index-CzRyP23B.js";import"./index-BoyJ48AF.js";import"./check-BDklPCL6.js";import"./chevrons-right-DgcrSjkP.js";import"./chevron-right-CozWHDcP.js";import"./index-dSc6CJZX.js";import"./index-BnpbIWum.js";import"./index-CyN6Lvxv.js";import"./badge-F6OWK3ZP.js";import"./index-C4urGKIO.js";import"./x-AF3MoQH6.js";import"./Logo-qkauXzc9.js";import"./shopping-cart-5h_9yV9o.js";import"./package-ChKJCvBG.js";import"./label-Df5-yQ-g.js";import"./textarea-CEDltAhS.js";import"./alert-dialog-Klr-dB-W.js";function Ke({categories:t,parentCategories:p}){const[S,h]=a.useState(!1),[E,l]=a.useState(!1),[F,i]=a.useState(!1),[c,x]=a.useState(null),[d,A]=a.useState(""),T=s=>{x(s),l(!0)},O=s=>{x(s),i(!0)},k=s=>{j.delete(route("admin.category.destroy",{category:s}),{onSuccess:()=>{i(!1),g.success("Category deleted successfully")},onError:r=>{g.error(r.error||"Failed to delete category")}})},I=P.map(s=>s.id==="actions"?{...s,cell:({row:r})=>{const u=r.original;return e.jsxs(f,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(o,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx($,{className:"h-4 w-4"})]})}),e.jsxs(y,{align:"end",children:[e.jsx(w,{children:"Actions"}),e.jsx(D,{onClick:()=>T(u),children:"Edit"}),e.jsx(D,{onClick:()=>O(u),className:"text-red-600",children:"Delete"})]})]})}}:s);return e.jsx(e.Fragment,{children:e.jsxs(K,{children:[e.jsx(L,{title:"Category Page"}),e.jsxs(q,{defaultValue:"all",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(G,{children:[e.jsx(n,{value:"all",children:"All"}),e.jsx(n,{value:"active",children:"Active"}),e.jsx(n,{value:"draft",children:"Draft"}),e.jsx(n,{value:"archived",className:"hidden sm:flex",children:"Archived"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsxs(f,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(o,{variant:"outline",size:"sm",className:"h-8 gap-1",children:[e.jsx(ee,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Filter"})]})}),e.jsxs(y,{align:"end",children:[e.jsx(w,{children:"Filter by"}),e.jsx(W,{}),e.jsx(m,{checked:!0,children:"Active"}),e.jsx(m,{children:"Draft"}),e.jsx(m,{children:"Archived"})]})]}),e.jsxs(o,{size:"sm",variant:"outline",className:"h-8 gap-1",children:[e.jsx(se,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Export"})]}),e.jsxs(v,{open:S,onOpenChange:h,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(o,{size:"sm",className:"h-8 gap-1",children:[e.jsx(re,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Add Category"})]})}),e.jsxs(N,{children:[e.jsx(b,{children:e.jsx(M,{children:"Add New Category"})}),e.jsx(U,{parentCategories:p,onSuccess:()=>h(!1)})]})]})]})]}),e.jsx(J,{value:"all",children:e.jsxs(_,{"x-chunk":"dashboard-06-chunk-0",children:[e.jsxs(z,{children:[e.jsx(B,{children:"Categories"}),e.jsx(R,{children:"Manage your product categories and view their sales performance."}),e.jsx(Z,{type:"search",placeholder:"Filter by name, email, etc...",className:"w-full appearance-none bg-background shadow-none md:w-2/3 lg:w-1/3",value:d,onChange:s=>A(s.target.value)})]}),e.jsx(V,{children:e.jsx(H,{columns:I,data:t.data,globalFilter:d,serverSide:!0,total:t.total,page:t.current_page,perPage:t.per_page,onPageChange:(s,r)=>{j.get(route("admin.category"),{page:s,per_page:r,search:d},{preserveState:!0,preserveScroll:!0})}})})]})})]}),c&&e.jsxs(e.Fragment,{children:[e.jsx(v,{open:E,onOpenChange:l,children:e.jsxs(N,{children:[e.jsx(b,{children:e.jsx(M,{children:"Edit Category"})}),e.jsx(X,{category:c,parentCategories:p,onSuccess:()=>l(!1)})]})}),e.jsx(Y,{category:c,isOpen:F,onClose:()=>i(!1),onConfirm:k})]})]})})}export{Ke as default};
