import{u as x,r as h,j as e,t as d}from"./app-4HfbLsEY.js";import{B as j}from"./button-E_trhJL5.js";import{I as o}from"./input-DNJDcnbb.js";import{L as i}from"./label-Dq9Er2yB.js";import{S as _,a as f,b as v,c as y,d as S}from"./select-BNFxK3Ia.js";import{T as C}from"./textarea-BhjhkGtO.js";import"./index-dSc6CJZX.js";import"./utils-DgWKjmuI.js";import"./index-Cal_Umln.js";import"./index-fudGGujX.js";import"./index-BiszRRC3.js";import"./Combination-C2qQlPVI.js";import"./index-lGkH_Ja5.js";import"./index-6UiDlR7t.js";import"./index-DLafaNOF.js";import"./createLucideIcon-BlVPVBQ0.js";import"./check-EXF3oDCO.js";function H({category:r,parentCategories:c,onSuccess:p}){const{data:n,setData:a,post:u,processing:l,errors:s,reset:F}=x({category_name:r.category_name||"",slug:r.slug||"",parent_id:r.parent?.id?.toString()||"",description:r.description||"",image:null,_method:"patch"});h.useEffect(()=>{a({category_name:r.category_name||"",slug:r.slug||"",parent_id:r.parent?.id?.toString()||"",description:r.description||"",image:null,_method:"patch"})},[r]);const g=t=>{t.preventDefault(),u(route("admin.category.update",{category:r.id}),{preserveScroll:!0,onSuccess:()=>{p(),d.success("Category updated successfully")},onError:m=>{d.error(m.error||"Failed to update category"),console.error("Error updating category:",m)}})};return e.jsxs("form",{onSubmit:g,className:"space-y-4",encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"parent_id",children:"Parent Category"}),e.jsxs(_,{onValueChange:t=>a("parent_id",t),value:n.parent_id,children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select a parent category"})}),e.jsx(y,{children:c.map(t=>e.jsx(S,{value:t.id.toString(),children:t.category_name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category_name",children:"Category Name"}),e.jsx(o,{id:"category_name",name:"category_name",value:n.category_name,onChange:t=>a("category_name",t.target.value),required:!0}),s.category_name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.category_name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slug",children:"Slug"}),e.jsx(o,{id:"slug",name:"slug",value:n.slug,onChange:t=>a("slug",t.target.value),required:!0}),s.slug&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.slug})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(C,{id:"description",name:"description",value:n.description,onChange:t=>a("description",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"image",children:"New Image"}),e.jsx(o,{id:"image",name:"image",type:"file",onChange:t=>a("image",t.target.files?t.target.files[0]:null)}),s.image&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.image})]}),e.jsx(j,{type:"submit",disabled:l,children:l?"Saving...":"Save Changes"})]})}export{H as default};
