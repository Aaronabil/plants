import{r as m,j as e,H as S,a as p,t as j}from"./app-D8el9p_D.js";import{G as k}from"./GuestLayout-DqtNcj9S.js";import{S as f,P as _}from"./ProductCard-CdaDh5VO.js";import{N as C,a as R}from"./Header-zYKwC0IM.js";import{B as b}from"./badge-B7yYAjR2.js";import{B as P}from"./button-C3a5SMX5.js";import{I as N}from"./input-DRdcWRxl.js";import{T as A}from"./textarea-ClJp30iS.js";import{A as B,m as $}from"./proxy-BNyUX47M.js";import"./Footer-oPE9nwQ4.js";import"./Logo-_Va2A3aj.js";import"./createLucideIcon-Cv3wxvPc.js";import"./index-bGsnAHdf.js";import"./index-DTchHo3b.js";import"./index-CDm79A2h.js";import"./index-7ay2WHCv.js";import"./Combination-CgVcbx6e.js";import"./index-Bz3LDWKP.js";import"./index-CRm6wlHH.js";import"./index-dSc6CJZX.js";import"./utils-DgWKjmuI.js";import"./dropdown-menu-DFGGZxVH.js";import"./index-o7lZcY_U.js";import"./index-DChZJ1_8.js";import"./check-D15Veoj9.js";import"./chevron-right-DV0_q11Z.js";import"./alert-dialog-GFI3nKMj.js";import"./index-DfIaNaEC.js";import"./x-Dd8M3uyk.js";import"./avatar-CZ-G2JTe.js";import"./shopping-cart-DcHvMOaP.js";function q(){const[t,o]=m.useState(0),[d,c]=m.useState(0),[l,x]=m.useState([]),[i,a]=m.useState(1),[n,u]=m.useState({name:"",title:"",detail:""}),h=s=>{u({...n,[s.target.name]:s.target.value})},v=s=>{s.preventDefault();const r={id:Date.now(),...n,rating:t,date:new Date().toLocaleString(),avatar:`https://api.dicebear.com/8.x/avataaars/svg?seed=${n.name}`};x([r,...l]),u({name:"",title:"",detail:""}),o(0),a(1)},g=5,y=Math.ceil(l.length/g),w=l.slice((i-1)*g,i*g);return e.jsxs("div",{className:"w-full bg-white py-10 text-left",children:[e.jsxs("form",{onSubmit:v,className:"max-w-6xl mx-auto space-y-4 text-left",children:[e.jsx("h2",{className:"text-xl font-semibold text-green-700 mb-4",children:"Add Review"}),e.jsx("div",{className:"grid md:grid-cols",children:e.jsx(N,{placeholder:"Your Name*",name:"name",value:n.name,onChange:h,required:!0})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Your Rating*"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(s=>e.jsx(f,{className:`w-6 h-6 cursor-pointer transition-colors ${(d||t)>=s?"fill-yellow-400 text-yellow-400":"text-gray-300"}`,onClick:()=>o(s),onMouseEnter:()=>c(s),onMouseLeave:()=>c(0)},s)),t>0&&e.jsxs("span",{className:"ml-2 text-sm",children:[t,".0"]})]})]}),e.jsx(N,{placeholder:"Review Title*",name:"title",value:n.title,onChange:h,required:!0}),e.jsx(A,{placeholder:"Write your review...",name:"detail",value:n.detail,onChange:h,required:!0,className:"min-h-[100px]"}),e.jsx("div",{className:"flex justify-start",children:e.jsx(P,{type:"submit",size:"sm",className:"bg-green-700 hover:bg-green-800",children:"Submit"})})]}),e.jsxs("div",{className:"w-full mt-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-green-700 mb-6 text-center",children:"Customer Reviews"}),e.jsx("hr",{className:"mb-4"}),l.length===0?e.jsx("p",{className:"text-gray-500 text-center",children:"Belum ada review untuk produk ini."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative overflow-hidden w-full",children:e.jsx(B,{mode:"wait",children:e.jsx($.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.4},className:"space-y-4 w-full",children:w.map(s=>e.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 shadow-md w-full",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"w-10 h-10 rounded-full border border-gray-200"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"font-semibold text-green-800 text-sm",children:s.name}),e.jsx("span",{className:"text-xs text-gray-500",children:s.date})]}),e.jsx("div",{className:"flex items-center mb-1",children:[1,2,3,4,5].map(r=>e.jsx(f,{className:`w-4 h-4 ${s.rating>=r?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),e.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:s.title}),e.jsx("p",{className:"text-gray-700 text-sm",children:s.detail})]})]})},s.id))},i)})}),e.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:y}).map((s,r)=>e.jsx("button",{onClick:()=>a(r+1),className:`px-3 py-1 rounded-md text-sm font-medium transition ${i===r+1?"bg-green-700 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r+1},r))})]})]})]})}function de({product:t,auth:o,relatedProducts:d}){const c=t.images.find(a=>a.is_primary)||t.images[0],[l,x]=m.useState(1),i=()=>{if(!o.user){p.visit(route("login"));return}p.post(route("cart.store"),{product_id:t.id,quantity:l},{preserveScroll:!0,onSuccess:()=>{p.reload({only:["cart"]}),j.success("The plant has gone into the basket",{description:`${t.product_name} has been added to cart.`,duration:3e3})},onError:a=>{j.error("Failed to add to basket.",{description:Object.values(a).join(`
`)})}})};return e.jsxs(k,{children:[e.jsx(S,{title:t.product_name}),e.jsxs("section",{className:"max-w-6xl mx-auto py-16 px-6 lg:px-12 grid md:grid-cols-2 gap-10 items-start",children:[e.jsx("div",{className:"aspect-squarer rounded-lg bg-card shadow-sm overflow-hidden",children:e.jsx("img",{src:c?.image_url||"https://via.placeholder.com/600",alt:t.product_name,className:"object-cover w-full h-full group-hover:scale-110 transition-transform duration-300"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-green-700 font-medium text-sm mb-2",children:[t.category?.parent?.category_name," / ",t.category?.category_name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.product_name}),t.stock>0&&e.jsx(b,{variant:"outline",className:"text-green-600 border-green-600 bg-green-50",children:"In Stock"}),t.stock<=0&&e.jsx(b,{variant:"destructive",children:"Out of Stock"})]}),e.jsx("div",{className:"flex items-center gap-3 mb-4",children:e.jsxs("p",{className:"text-2xl font-semibold text-green-700",children:["Rp",Number(t.price).toLocaleString("id-ID")]})}),e.jsx("p",{className:"text-gray-600 mb-6",children:t.detail_description}),e.jsxs("div",{className:"space-y-2 mt-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 font-medium text-sm",children:"Stock"}),e.jsx("p",{className:"text-gray-600",children:t.stock>0?`${t.stock} available`:"Out of Stock"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 font-medium text-sm",children:"Weight"}),e.jsxs("p",{className:"text-gray-600",children:[t.weight_in_kilograms," kg"]})]})]}),e.jsxs("div",{className:"space-y-4 mt-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 font-medium text-sm mb-2",children:"Plant Size"}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{className:"px-3 py-1.5 rounded-full border border-yellow-400 bg-yellow-400 text-black font-medium text-sm cursor-default",children:"Medium"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 font-medium text-sm mb-2",children:"Pot Material"}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{className:"px-3 py-1.5 rounded-full border border-yellow-400 bg-yellow-400 text-black font-medium text-sm cursor-default",children:"Ceramic"})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-700 font-medium text-sm mb-2",children:["Pot Color: ",e.jsx("span",{className:"text-gray-500 text-sm",children:"White"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{className:"w-5 h-5 rounded-full border border-gray-300 bg-white cursor-default shadow-sm","aria-label":"White"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[e.jsx(C,{className:"w-120",value:l,onValueChange:a=>x(a||1),min:1,max:100,children:e.jsx(R,{})}),e.jsx("button",{onClick:i,disabled:t.stock===0,className:"flex-1 bg-green-700 text-white py-3 rounded-lg hover:bg-green-800 transition",children:t.stock===0?"Out of Stock":"Add to Cart"}),e.jsx("button",{className:"flex-1 border border-green-700 text-green-700 py-3 rounded-lg hover:bg-green-50 transition",children:"Buy Now"})]})]}),e.jsxs("div",{className:"md:col-span-2 mt-12 text-gray-700 leading-relaxed space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-green-700 mb-3 text-center",children:"Description"}),e.jsx("hr",{className:"mb-2"}),e.jsx("p",{children:t.description})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-green-700 mb-3 text-center ",children:"Review"}),e.jsx("hr",{className:"mb-2"}),e.jsx(q,{})]})]})]}),e.jsxs("section",{className:"max-w-6xl mx-auto py-16 px-6 lg:px-12",children:[e.jsx("h3",{className:" text-center text-gray-600 mb-2",children:"Related Plants"}),e.jsxs("h1",{className:"text-3xl font-bold text-center",children:["Explore ",e.jsx("span",{className:"text-green-700",children:"Related Plants"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-5 gap-8 mt-8",children:d.map(a=>e.jsx(_,{product:a,categoryName:a.category?.category_name||"Uncategorized"},a.id))})]})]})}export{de as default};
