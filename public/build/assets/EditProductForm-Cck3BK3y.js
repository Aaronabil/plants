import{u,r as _,j as e,t as d}from"./app-4HfbLsEY.js";import{B as j}from"./button-E_trhJL5.js";import{I as c}from"./input-DNJDcnbb.js";import{L as o}from"./label-Dq9Er2yB.js";import{S as v,a as S,b as k,c as f,d as y}from"./select-BNFxK3Ia.js";import{T as l}from"./textarea-BhjhkGtO.js";import"./index-dSc6CJZX.js";import"./utils-DgWKjmuI.js";import"./index-Cal_Umln.js";import"./index-fudGGujX.js";import"./index-BiszRRC3.js";import"./Combination-C2qQlPVI.js";import"./index-lGkH_Ja5.js";import"./index-6UiDlR7t.js";import"./index-DLafaNOF.js";import"./createLucideIcon-BlVPVBQ0.js";import"./check-EXF3oDCO.js";function G({product:i,categories:m,onSuccess:p}){const{data:a,setData:s,post:g,processing:n,errors:r,reset:F}=u({product_name:i.product_name,category_id:i.category?.id?.toString()||"",description:i.description,detail_description:i.detail_description,price:i.price.toString(),stock:i.stock.toString(),weight_in_kilograms:i.weight_in_kilograms.toString(),images:[],_method:"patch"});_.useEffect(()=>{s({...a,product_name:i.product_name,category_id:i.category?.id?.toString()||"",description:i.description,detail_description:i.detail_description,price:i.price.toString(),stock:i.stock.toString(),weight_in_kilograms:i.weight_in_kilograms.toString()})},[i]);const x=t=>{t.preventDefault(),g(route("admin.product.update",{product:i.id}),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{p(),d.success("Product updated successfully")},onError:h=>{d.error(h.error||"Failed to update product")}})};return e.jsxs("form",{onSubmit:x,className:"space-y-4",encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"category_id",children:"Category"}),e.jsxs(v,{onValueChange:t=>s("category_id",t),value:a.category_id,children:[e.jsx(S,{children:e.jsx(k,{placeholder:"Select a category"})}),e.jsx(f,{children:m.map(t=>e.jsxs(y,{value:t.id.toString(),children:[t.parent?.category_name," - ",t.category_name]},t.id))})]}),r.category_id&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.category_id})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"product_name",children:"Product Name"}),e.jsx(c,{id:"product_name",value:a.product_name,onChange:t=>s("product_name",t.target.value),required:!0}),r.product_name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.product_name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price",children:"Price (Rp)"}),e.jsx(c,{id:"price",type:"number",value:a.price,onChange:t=>s("price",t.target.value),required:!0}),r.price&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.price})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"stock",children:"Stock"}),e.jsx(c,{id:"stock",type:"number",value:a.stock,onChange:t=>s("stock",t.target.value),required:!0}),r.stock&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.stock})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(c,{id:"weight",type:"number",step:"0.1",value:a.weight_in_kilograms,onChange:t=>s("weight_in_kilograms",t.target.value),required:!0}),r.weight_in_kilograms&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.weight_in_kilograms})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"detail_description",children:"Short Description"}),e.jsx(l,{id:"detail_description",value:a.detail_description,onChange:t=>s("detail_description",t.target.value),required:!0}),r.detail_description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.detail_description})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Detail Description"}),e.jsx(l,{id:"description",value:a.description,onChange:t=>s("description",t.target.value),required:!0}),r.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.description})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"images",children:"Product Images"}),e.jsx(c,{id:"images",type:"file",accept:"image/*",multiple:!0,onChange:t=>s("images",t.target.files?Array.from(t.target.files):[])}),r.images&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.images})]}),e.jsx(j,{type:"submit",disabled:n,children:n?"Saving...":"Save Changes"})]})}export{G as default};
