import{r as a,j as e,H as F,a as S,t as p}from"./app-D8el9p_D.js";import{A as T}from"./AdminLayout-UqOJCja1.js";import{columns as A}from"./Column-dR-B_MHo.js";import{D as u,a as h,b as x,c as j,d as f,e as k,f as i}from"./dropdown-menu-DFGGZxVH.js";import{B as c}from"./button-C3a5SMX5.js";import{T as O,a as E,b as t,c as I}from"./tabs-Citg86qu.js";import{C as L,a as H,b as z,c as B,d as P}from"./card-BcC5XkME.js";import{D as R,b as V,c as W,d as _}from"./dialog-C44dH0Ml.js";import{DataTable as q}from"./DataTable-_qSAzlPV.js";import{I as G}from"./input-DRdcWRxl.js";import J from"./CustomerDetailsForm-Wtwy49sP.js";import K from"./DeleteCustomerModal-BPTNtRn2.js";import{E as Q}from"./ellipsis-BvxSuD-w.js";import{L as U,F as X}from"./list-filter-CbN2wcyu.js";import"./badge-B7yYAjR2.js";import"./index-dSc6CJZX.js";import"./utils-DgWKjmuI.js";import"./index-DfIaNaEC.js";import"./index-bGsnAHdf.js";import"./Combination-CgVcbx6e.js";import"./index-DTchHo3b.js";import"./index-7ay2WHCv.js";import"./x-Dd8M3uyk.js";import"./createLucideIcon-Cv3wxvPc.js";import"./Logo-_Va2A3aj.js";import"./shopping-cart-DcHvMOaP.js";import"./package-D6vdkInW.js";import"./format-CSQe5d3I.js";import"./index-CDm79A2h.js";import"./index-o7lZcY_U.js";import"./index-DChZJ1_8.js";import"./check-D15Veoj9.js";import"./chevron-right-DV0_q11Z.js";import"./index-DQAwwTUP.js";import"./table-DwFRFNKa.js";import"./select-Bn8ginrj.js";import"./index-Bz3LDWKP.js";import"./index-CRm6wlHH.js";import"./chevrons-right-XDteYB0n.js";import"./alert-dialog-GFI3nKMj.js";function ze({customers:C}){const[g,o]=a.useState(!1),[D,l]=a.useState(!1),[r,n]=a.useState(null),[m,v]=a.useState(""),w=s=>{n(s),o(!0)},b=()=>{r&&S.delete(route("admin.customer.destroy",{customer:r.id}),{onSuccess:()=>{p.success("Customer deleted successfully"),l(!1),n(null)},onError:s=>{p.error(s.error||"Failed to delete product")}})},N=s=>{n(s),l(!0)},y=A.map(s=>s.id==="actions"?{...s,cell:({row:M})=>{const d=M.original;return e.jsxs(u,{children:[e.jsx(h,{asChild:!0,children:e.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Q,{className:"h-4 w-4"})]})}),e.jsxs(x,{align:"end",children:[e.jsx(j,{children:"Actions"}),e.jsx(f,{className:"text-green-700",onClick:()=>w(d),children:"Customer Details"}),e.jsx(f,{className:"text-red-600",onClick:()=>N(d),children:"Delete"})]})]})}}:s);return e.jsx(e.Fragment,{children:e.jsxs(T,{children:[e.jsx(F,{title:"Customer Page"}),e.jsxs(O,{defaultValue:"all",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(E,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"draft",children:"Draft"}),e.jsx(t,{value:"archived",className:"hidden sm:flex",children:"Archived"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsxs(u,{children:[e.jsx(h,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",className:"h-8 gap-1",children:[e.jsx(U,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Filter"})]})}),e.jsxs(x,{align:"end",children:[e.jsx(j,{children:"Filter by"}),e.jsx(k,{}),e.jsx(i,{checked:!0,children:"Active"}),e.jsx(i,{children:"Draft"}),e.jsx(i,{children:"Archived"})]})]}),e.jsxs(c,{size:"sm",variant:"outline",className:"h-8 gap-1",children:[e.jsx(X,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Export"})]})]})]}),e.jsx(I,{value:"all",children:e.jsxs(L,{"x-chunk":"dashboard-06-chunk-0",children:[e.jsxs(H,{children:[e.jsx(z,{children:"Customer"}),e.jsx(B,{children:"Manage your customers here."}),e.jsx(G,{type:"search",placeholder:"Filter by name, email, etc...",className:"w-full appearance-none bg-background shadow-none md:w-2/3 lg:w-1/3",value:m,onChange:s=>v(s.target.value)})]}),e.jsx(P,{children:e.jsx(q,{columns:y,data:C.data,globalFilter:m,serverSide:!1})})]})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(R,{open:g,onOpenChange:o,children:e.jsxs(V,{className:"max-h-[90vh] overflow-y-auto",children:[e.jsx(W,{children:e.jsx(_,{children:"Customer Details"})}),e.jsx(J,{user:r,onSuccess:()=>o(!1)})]})}),e.jsx(K,{user:r,isOpen:D,onClose:()=>l(!1),onConfirm:b})]})]})})}export{ze as default};
