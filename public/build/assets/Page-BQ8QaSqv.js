import{r as a,j as e,H as I,a as j,t as f}from"./app-D8el9p_D.js";import{columns as L}from"./Columns-D3k-Cy9U.js";import{DataTable as H}from"./DataTable-ptx1veyE.js";import{B as o}from"./button-C3a5SMX5.js";import{C as _,a as z,b as B,c as R,d as V}from"./card-BcC5XkME.js";import{D as g,a as C,b as v,c as w,d as D,e as W,f as p}from"./dropdown-menu-DFGGZxVH.js";import{T as q,a as G,b as l,c as J}from"./tabs-Citg86qu.js";import{A as K}from"./AdminLayout-UqOJCja1.js";import{D as N,a as Q,b,c as P,d as y}from"./dialog-C44dH0Ml.js";import U from"./CreateProductForm-ZJN9mh1w.js";import X from"./EditProductForm-BLMumRDJ.js";import Y from"./DeleteProductModal-BsZL-fFE.js";import{I as Z}from"./input-DRdcWRxl.js";import{E as $}from"./ellipsis-BvxSuD-w.js";import{L as ee,F as se}from"./list-filter-CbN2wcyu.js";import{C as re}from"./circle-plus-l0j8LWnK.js";import"./badge-B7yYAjR2.js";import"./index-dSc6CJZX.js";import"./utils-DgWKjmuI.js";import"./format-CSQe5d3I.js";import"./index-DQAwwTUP.js";import"./createLucideIcon-Cv3wxvPc.js";import"./table-DwFRFNKa.js";import"./select-Bn8ginrj.js";import"./index-bGsnAHdf.js";import"./index-CDm79A2h.js";import"./Combination-CgVcbx6e.js";import"./index-DTchHo3b.js";import"./index-o7lZcY_U.js";import"./index-Bz3LDWKP.js";import"./index-CRm6wlHH.js";import"./check-D15Veoj9.js";import"./chevrons-right-XDteYB0n.js";import"./chevron-right-DV0_q11Z.js";import"./index-7ay2WHCv.js";import"./index-DChZJ1_8.js";import"./index-DfIaNaEC.js";import"./x-Dd8M3uyk.js";import"./Logo-_Va2A3aj.js";import"./shopping-cart-DcHvMOaP.js";import"./package-D6vdkInW.js";import"./label-BAt_E1ba.js";import"./textarea-ClJp30iS.js";import"./alert-dialog-GFI3nKMj.js";function Ke({products:t,categories:h}){const[M,u]=a.useState(!1),[S,n]=a.useState(!1),[E,i]=a.useState(!1),[r,c]=a.useState(null),[d,F]=a.useState(""),A=s=>{c(s),n(!0)},T=()=>{r&&j.delete(route("admin.product.destroy",{product:r.id}),{onSuccess:()=>{f.success("Product deleted successfully"),i(!1),c(null)},onError:s=>{f.error(s.error||"Failed to delete product")}})},O=s=>{c(s),i(!0)},k=L.map(s=>s.id==="actions"?{...s,cell:({row:m})=>{const x=m.original;return e.jsxs(g,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(o,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx($,{className:"h-4 w-4"})]})}),e.jsxs(v,{align:"end",children:[e.jsx(w,{children:"Actions"}),e.jsx(D,{onClick:()=>A(x),children:"Edit"}),e.jsx(D,{onClick:()=>O(x),className:"text-red-600",children:"Delete"})]})]})}}:s);return e.jsx(e.Fragment,{children:e.jsxs(K,{children:[e.jsx(I,{title:"Product Page"}),e.jsxs(q,{defaultValue:"all",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(G,{children:[e.jsx(l,{value:"all",children:"All"}),e.jsx(l,{value:"active",children:"Active"}),e.jsx(l,{value:"draft",children:"Draft"}),e.jsx(l,{value:"archived",className:"hidden sm:flex",children:"Archived"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsxs(g,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(o,{variant:"outline",size:"sm",className:"h-8 gap-1",children:[e.jsx(ee,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Filter"})]})}),e.jsxs(v,{align:"end",children:[e.jsx(w,{children:"Filter by"}),e.jsx(W,{}),e.jsx(p,{checked:!0,children:"Active"}),e.jsx(p,{children:"Draft"}),e.jsx(p,{children:"Archived"})]})]}),e.jsxs(o,{size:"sm",variant:"outline",className:"h-8 gap-1",children:[e.jsx(se,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Export"})]}),e.jsxs(N,{open:M,onOpenChange:u,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(o,{size:"sm",className:"h-8 gap-1",children:[e.jsx(re,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Add Product"})]})}),e.jsxs(b,{className:"max-h-[90vh] overflow-y-auto",children:[e.jsx(P,{children:e.jsx(y,{children:"Add New Product"})}),e.jsx(U,{categories:h,onSuccess:()=>u(!1)})]})]})]})]}),e.jsx(J,{value:"all",children:e.jsxs(_,{"x-chunk":"dashboard-06-chunk-0",children:[e.jsxs(z,{children:[e.jsx(B,{children:"Product"}),e.jsx(R,{children:"Manage your product and view their sales performance."}),e.jsx(Z,{type:"search",placeholder:"Filter by name, email, etc...",className:"w-full appearance-none bg-background shadow-none md:w-2/3 lg:w-1/3",value:d,onChange:s=>F(s.target.value)})]}),e.jsx(V,{children:e.jsx(H,{columns:k,data:t.data,globalFilter:d,serverSide:!0,total:t.total,page:t.current_page,perPage:t.per_page,onPageChange:(s,m)=>{j.get(route("admin.product"),{page:s,per_page:m,search:d},{preserveState:!0,preserveScroll:!0})}})})]})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(N,{open:S,onOpenChange:n,children:e.jsxs(b,{className:"max-h-[90vh] overflow-y-auto",children:[e.jsx(P,{children:e.jsx(y,{children:"Edit Product"})}),e.jsx(X,{product:r,categories:h,onSuccess:()=>n(!1)})]})}),e.jsx(Y,{product:r,isOpen:E,onClose:()=>i(!1),onConfirm:T})]})]})})}export{Ke as default};
